# DeviceMonitorV2 环境变量配置示例
# 复制此文件为 .env 并根据实际情况修改配置

# ===========================================
# 应用基础配置
# ===========================================
APP_NAME=DeviceMonitorV2
APP_VERSION=1.0.0
DEBUG=true
ENVIRONMENT=development

# ===========================================
# 服务器配置
# ===========================================
HOST=127.0.0.1
PORT=8001

# ===========================================
# 数据库配置
# ===========================================

# PostgreSQL 主数据库
DATABASE_URL=postgresql://postgres:Hanatech@123@127.0.0.1:5432/devicemonitor
DB_HOST=127.0.0.1
DB_PORT=5432
DB_NAME=devicemonitor
DB_USER=postgres
DB_PASSWORD=Hanatech@123

# TDengine 时序数据库
TDENGINE_URL=taos://root:taosdata@127.0.0.1:6041/devicemonitor
TDENGINE_HOST=127.0.0.1
TDENGINE_PORT=6041
TDENGINE_DATABASE=devicemonitor
TDENGINE_USER=root
TDENGINE_PASSWORD=taosdata

# Redis 缓存数据库 (可选)
REDIS_URL=redis://127.0.0.1:6379/0
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# ===========================================
# JWT 认证配置
# ===========================================
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# ===========================================
# 安全配置
# ===========================================
SECRET_KEY=your-super-secret-key-change-this-in-production
ALLOWED_HOSTS=127.0.0.1,localhost
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# ===========================================
# 日志配置
# ===========================================
LOG_LEVEL=INFO
LOG_FILE=logs/app.log
LOG_MAX_SIZE=10MB
LOG_BACKUP_COUNT=5

# ===========================================
# 文件上传配置
# ===========================================
UPLOAD_DIR=uploads
MAX_FILE_SIZE=10MB
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,pdf,doc,docx,xls,xlsx

# ===========================================
# 邮件配置 (可选)
# ===========================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_TLS=true
SMTP_SSL=false

# ===========================================
# 缓存配置
# ===========================================
CACHE_TYPE=redis
CACHE_DEFAULT_TIMEOUT=300
CACHE_KEY_PREFIX=devicemonitor:

# ===========================================
# API配置
# ===========================================
API_V1_PREFIX=/api/v1
API_V2_PREFIX=/api/v2
API_DOCS_URL=/docs
API_REDOC_URL=/redoc

# ===========================================
# 监控配置
# ===========================================
ENABLE_METRICS=true
METRICS_PORT=8002
HEALTH_CHECK_ENDPOINT=/health

# ===========================================
# 开发配置
# ===========================================
RELOAD=true
WORKERS=1
ACCESS_LOG=true

# ===========================================
# 生产环境配置 (生产环境时启用)
# ===========================================
# DEBUG=false
# ENVIRONMENT=production
# RELOAD=false
# WORKERS=4
# ACCESS_LOG=false
# LOG_LEVEL=WARNING